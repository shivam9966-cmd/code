from fastapi import FastAPI
from pydantic import BaseModel
from business_summary_and_insights import get_business_summary_and_insights

app = FastAPI()
class RequestModel(BaseModel):
    year: int
    month: int | None = None
    version: str
    forecast_type: str

@app.post("/home")
def home(req: RequestModel):
    return get_business_summary_and_insights(
        year=req.year,
        month=req.month,
        version=req.version,
        forecast_type=req.forecast_type,
    )
