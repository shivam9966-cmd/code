import csv

path = r"C:\path\to\your_file.csv"

with open(path, "r", encoding="utf-8-sig", newline="") as f:
    sample = f.read(5000)

print("Sample snippet:\n", sample[:300])

# Try sniff delimiter
dialect = csv.Sniffer().sniff(sample, delimiters=[",",";","|","\t"])
print("Detected delimiter repr:", repr(dialect.delimiter))

# Now read header + first row and count columns using detected delimiter
with open(path, "r", encoding="utf-8-sig", newline="") as f:
    reader = csv.reader(f, delimiter=dialect.delimiter)
    header = next(reader)
    row1 = next(reader)
    print("Header columns:", len(header))
    print("Row1 columns:", len(row1))
    print("Header:", header)
    print("Row1:", row1)
